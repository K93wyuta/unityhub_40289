<%# チャンネル ログアウト モーダル Start %>
<%= render "shared/channel_left_modal" %>
<%# チャンネル ログアウト モーダル End %>

<%# チャンネル 共通 Start %>
<div class = "channel">

  <%# チャンネル ナビゲーション Start %>
  <%= render "shared/channel_left" %>
  <%# チャンネル ナビゲーション End %>

  <%# アルバム 編集 Start %>
  <div class = "channel-right">

    <%# アルバム 編集フォーム Start %>
    <div class = "form-left">
      <%= form_with(model:[@channel ,@album], local: true) do |f| %>

        <%# アルバム 編集フォーム ヘッダー Start %>
        <div class ="form-back">
          <%= link_to '< 戻る', :back, class:"form-back-text" %>
        </div>
        <div class ="form-title-left">
          アルバム　編集
        </div>
        <%# アルバム 編集フォーム ヘッダー End %>

        <%# アルバム 編集フォーム エラー表示 Start %>
        <div class = "form-error">
          <%= render 'shared/error_messages', resource: @album %>
        </div>
        <%# アルバム 編集フォーム エラー表示 End %>

        <%# アルバム 編集フォーム 入力部分 Start %>
        <div class = "form-vertical">
          <div class = "form-vertical-field">
            <%= f.label :title, "アルバム名",class:"form-field-label" %>
            <%= f.text_field :title, placeholder:"アルバム名を入力してください", autocomplete: "title", class:"form-field-string" %>
          </div>
          <div class="form-vertical-field">
            <%= f.label :alubum_image, "画像",class:"form-field-label" %>
            <div class="form-field-albumimage">
              <%= f.file_field :album_image, name: 'album[album_images][]', multiple: true, data: {index: 0} ,class:"form-field-albumimage-image" %>
            <span class="form-field-albumimage-custom">+</span>
                        </div>
            <div class="album-preview" id = "album-preview">
            </div>
          </div>
        </div>
        <%# アルバム 編集フォーム 入力部分 End %>

        <%# アルバム 編集フォーム アクション Start %>
        <div class="form-action">
          <%= f.submit "更新する",class:"form-action-submit"%>
          <div class="form-action-delete">
          削除する
          </div>

          <%# アルバム 編集フォーム アルバム削除 モーダル Start %>
          <div class ="modal" id = "modal-album-delete">
            <div class= "modal-box">
              <div class ="modal-box-title">
                本当に削除しますか？
              </div>
              <div class ="modal-actions">
                <%= link_to 'Yes', channel_album_path(@channel.id,@album), data: { turbo_method: :delete }, class:"modal-actions-y" %>
                <div class ="modal-actions-n">
                  No
                </div>
              </div>
            </div>
          </div>
          <%# アルバム 編集フォーム アルバム削除 モーダル End %>

        </div>
        <%# アルバム 新規作成フォーム アクション End %>

      <% end %>
    </div>
    <%# アルバム 編集フォーム End %>

  </div>
  <%# アルバム 編集 End %>

</div>
<%# チャンネル 共通 End %>
 
